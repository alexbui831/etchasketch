<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Festive&family=Qahiri&display=swap" rel="stylesheet">
    <title>Etch-a-Sketch</title>
</head>

<body>
    <div id="page-container">
        <div id="btn-container">
            <button id="clear-btn" onclick="clearGrid()">Clear Etch-a-Sketch</button>
            <button id="newGrid" onclick="newGrid(askNum())">New Grid</button>
        </div>
        <div id="grid-container">

        </div>
    </div>
</body>

<script>
    const pageContainer = document.getElementById("page-container");
    const btnContainer = document.getElementById("btn-container");
    const gridContainer = document.getElementById("grid-container");

    newGrid(2);

    function askNum() {
        let ask = prompt("Answer");
        return ask;
    }

    //  function that allows user input to create new grid layout
    function newGrid(amount) {

        //  limits user putting in value over 100 to keep load times steady
        while (amount > 101) {
            newGrid();
        }

        let gridSize = amount * amount;
        gridContainer.textContent = ("");
        //  creates enough enough div x * x 
        for (let i = 0; i < gridSize; i++) {
            const div = document.createElement("div");
            div.setAttribute("class", "grid-item");
            gridContainer.append(div);
        }

        //  style css container to match amount of elements preferred
        gridContainer.setAttribute("style", `grid-template-columns: repeat(${amount}, 1fr); grid-template-rows: repeat(${amount},1fr)`);

        //  create divs nodelist
        const divs = gridContainer.querySelectorAll("div");

        //  use .forEach to allow when each div element is hovered, add class "change color"
        divs.forEach((div) => {
            div.addEventListener("mouseover", () => {
                div.classList.add("colored")
            });
        });
    }

    //  function that clears grid
    function clearGrid() {

        const divs = gridContainer.querySelectorAll("div");
        console.log("CLEAR");
        // clear grid by removing colored class from all divs
        divs.forEach((div) => {
            div.classList.remove("colored")
        });

    }



</script>

</html>